(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"0b8eb3e35929778b339a":function(e,t,o){"use strict";o.r(t);var n=o("8af190b70a6bc55c6f1b"),r=o.n(n),i=o("ab039aecd4a1d4fedc0e"),a=(Object(i.defineMessages)({header:{id:"".concat("app.containers.HomePage",".header"),defaultMessage:"This is the HomePage container!"}}),o("29e12499d1da0b981a6b")),u=o("aa84bfc210dcd8bf6f9f"),f=o("e79510e74e2d14238020"),c=o("a4b72eb547c8a32e7b0b"),l=o("be30caea4844b74f87df"),d=o("7aa8b76ff548dbbb2b2b"),s=o("f45d38fc501154e8e845"),p=o.n(s);function y(){var e=g(["\n    mutation($todo_id: Int!) {\n        delete_todos(\n            where: {todo_id: {_eq:$todo_id}}\n        ){\n            affected_rows\n        }\n    }\n"]);return y=function(){return e},e}function v(){var e=g(["\n    mutation($todo_id: Int!) {\n        update_todos(\n            where: {todo_id: {_eq: $todo_id}} \n            _set: {todo_mark: true}\n            ){\n            affected_rows\n          }\n    }\n"]);return v=function(){return e},e}function b(){var e=g(["\n    mutation($todo_text: String!, $todo_user: String!) {\n        insert_todos(\n            objects: [\n                {\n                  todo_text: $todo_text,\n                  todo_user: $todo_user\n                }\n              ]\n          ){\n            affected_rows\n          }\n    }\n"]);return b=function(){return e},e}function h(){var e=g(["{\n    todos(\n        where: {todo_mark: {_eq:true}}\n    ){\n        todo_id\n        todo_text\n        todo_mark\n        todo_user\n    }\n}"]);return h=function(){return e},e}function m(){var e=g(["{\n    todos(\n        where: {todo_mark: {_eq:false}}\n    ){\n        todo_id\n        todo_text\n        todo_mark\n        todo_user\n    }\n}"]);return m=function(){return e},e}function _(){var e=g(["{\n    todos(order_by: [todo_mark_asc,todo_id_desc]){\n        todo_id\n        todo_text\n        todo_mark\n        todo_user\n    }\n}"]);return _=function(){return e},e}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w,S=p()(_()),O=p()(m()),k=p()(h()),j=p()(b()),P=p()(v()),x=p()(y());function $(e){return($="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t,o,n){w||(w="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var a in r)void 0===t[a]&&(t[a]=r[a]);else t||(t=r||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),f=0;f<i;f++)u[f]=arguments[f+3];t.children=u}return{$$typeof:w,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function E(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,t){return!t||"object"!==$(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I,N=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=q(this,A(t).call(this,e))).state={},o}var o,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,n["Component"]),o=t,(r=[{key:"marktodo_completed",value:function(e){e({variables:this.props,refetchQueries:[{query:O},{query:k},{query:S}]})}},{key:"render",value:function(){var e=this;return C(d.Mutation,{mutation:P},void 0,function(t,o){o.data;return C(c.a,{onClick:function(o){o.preventDefault(),e.marktodo_completed(t)}},void 0,"Done")})}}])&&E(o.prototype,r),i&&E(o,i),t}();function Q(e){return(Q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t,o,n){I||(I="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var a in r)void 0===t[a]&&(t[a]=r[a]);else t||(t=r||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),f=0;f<i;f++)u[f]=arguments[f+3];t.children=u}return{$$typeof:I,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function R(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return!t||"object"!==Q(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H,z=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=D(this,M(t).call(this,e))).state={},o}var o,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,n["Component"]),o=t,(r=[{key:"deletetodo",value:function(e){e({variables:this.props,refetchQueries:[{query:O},{query:k},{query:S}]})}},{key:"render",value:function(){var e=this;return L(d.Mutation,{mutation:x},void 0,function(t,o){o.data;return L(c.a,{onClick:function(o){o.preventDefault(),e.deletetodo(t)}},void 0,"Delete")})}}])&&R(o.prototype,r),i&&R(o,i),t}(),J=o("4375238331339fba3ec8"),K=o("7cb9817b45db58a95a87"),Y=o("6e490bb753478cd6249a"),F=o("6ed9e976eba9b9fee4ed");function G(e){return(G="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t,o,n){H||(H="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var a in r)void 0===t[a]&&(t[a]=r[a]);else t||(t=r||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),f=0;f<i;f++)u[f]=arguments[f+3];t.children=u}return{$$typeof:H,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function V(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W(e,t){return!t||"object"!==G(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ee,te=U(J.a.Button,{},void 0,U(c.a,{type:"submit"},void 0,"Add")),oe=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=W(this,X(t).call(this,e))).state={todo_text:"",todo_user:""},o}var o,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,n["Component"]),o=t,(r=[{key:"addtodo",value:function(e){var t=localStorage.getItem("sub");this.setState({todo_user:t},function(){e({variables:this.state,refetchQueries:[{query:O},{query:S}]})})}},{key:"render",value:function(){var e=this;return U(d.Mutation,{mutation:j},void 0,function(t,o){o.data;return U(K.a,{onSubmit:function(o){o.preventDefault(),e.addtodo(t)}},void 0,U(Y.a,{controlId:"Createtodo",style:{marginBottom:"0px"}},void 0,U(J.a,{},void 0,U(F.a,{type:"text",value:e.state.todo_text,placeholder:"Create a todo task.",onChange:function(t){return e.setState({todo_text:t.target.value})}}),te)))})}}])&&V(o.prototype,r),i&&V(o,i),t}(),ne=o("3c521972a22207e45074"),re=o("99b2b8b7b0133dd57c3b"),ie=o("2ba9c1b7405cd620bcbc"),ae=o("9dd8920a108c4e3b44d0"),ue=o("f785ee5e734b0d324a31"),fe=o("04d56d76ae55db2958ee");function ce(e,t,o,n){ee||(ee="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var a in r)void 0===t[a]&&(t[a]=r[a]);else t||(t=r||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),f=0;f<i;f++)u[f]=arguments[f+3];t.children=u}return{$$typeof:ee,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var le,de=ce("div",{},void 0,ce("h3",{},void 0,"No Todos Created Yet"),ce(oe,{})),se=ce(ne.a,{},void 0,ce(re.a,{},void 0,ce(oe,{}))),pe=function(){return ce(d.Query,{query:O},void 0,function(e){var t=e.loading,o=(e.error,e.data);if(t)return ce("h2",{style:{textAlign:"center"}},void 0,"Loading...");if(0===o.todos.length)return de;var n=0;return ce("div",{},void 0,ce(ie.a,{},void 0,ce(ae.a,{},void 0,ce(ue.a,{md:8,mdPush:2},void 0,ce(ne.a,{},void 0,o.todos.map(function(e){return ce(re.a,{},void 0,ce(fe.a,{className:"pull-right"},void 0,ce(N,{todo_id:e.todo_id}),ce(z,{todo_id:e.todo_id})),ce("h4",{},void 0,n+=1,". ",e.todo_text))})),se))))})};function ye(e,t,o,n){le||(le="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var a in r)void 0===t[a]&&(t[a]=r[a]);else t||(t=r||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),f=0;f<i;f++)u[f]=arguments[f+3];t.children=u}return{$$typeof:le,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var ve,be,he=ye("h2",{}),me=ye("div",{},void 0,ye("h3",{},void 0,"No completed todos"),ye(oe,{})),_e=function(){return ye(d.Query,{query:k},void 0,function(e){var t=e.loading,o=(e.error,e.data);if(t)return he;if(0===o.todos.length)return me;var n=0;return ye("div",{},void 0,ye(ie.a,{},void 0,ye(ae.a,{},void 0,ye(ue.a,{md:8,mdPush:2},void 0,ye(ne.a,{},void 0,o.todos.map(function(e){return ye(re.a,{},void 0,ye(fe.a,{className:"pull-right"},void 0,ye(z,{todo_id:e.todo_id})),ye("h4",{},void 0,n+=1,". ",e.todo_text))}))))))})},ge=o("74255e43d9ca4f741f05");function we(e){return(we="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t,o,n){ve||(ve="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&r)for(var a in r)void 0===t[a]&&(t[a]=r[a]);else t||(t=r||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),f=0;f<i;f++)u[f]=arguments[f+3];t.children=u}return{$$typeof:ve,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Oe(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ke(e,t){return!t||"object"!==we(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}o.d(t,"client",function(){return be}),o.d(t,"default",function(){return Ee});var xe=Se(a.a.Header,{pullRight:!0},void 0,Se(a.a.Brand,{},void 0,Se("a",{href:"#"},void 0,"Hasura Todo"))),$e=Se(d.ApolloProvider,{client:be},void 0,Se(pe,{})),Ce=Se(d.ApolloProvider,{client:be},void 0,Se(_e,{})),Ee=function(e){function t(e){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=ke(this,je(t).call(this,e));var n=localStorage.getItem("access_token");Object(ge.a)(function(e){var t=e.graphQLErrors;t&&t.map(function(e){var t=e.message;return console.log(t)})});return be=new l.a({uri:"https://my-react-hasura-app.herokuapp.com/v1alpha1/graphql",headers:{Authorization:"Bearer ".concat(n)},onError:function(e){var t=e.networkError,o=e.graphQLErrors;console.log("graphQLErrors",o),console.log("networkError",t)}}),o}var o,n,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,r.a.PureComponent),o=t,(n=[{key:"goTo",value:function(e){this.props.history.replace("/".concat(e))}},{key:"login",value:function(){this.props.auth.login()}},{key:"logout",value:function(){this.props.auth.logout()}},{key:"componentDidMount",value:function(){var e=this.props.auth.renewSession;"true"===localStorage.getItem("isLoggedIn")&&e()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return Se("div",{},void 0,Se(a.a,{inverse:!0,pullRight:!0,fluid:!0},void 0,xe,Se(a.a.Collapse,{},void 0,Se(u.a,{pullRight:!0},void 0,Se(f.a,{eventKey:1},void 0,!e()&&Se(c.a,{bsStyle:"primary",className:"btn-margin",onClick:this.login.bind(this)},void 0,"Log In")),Se(f.a,{eventKey:2},void 0,e()&&Se(c.a,{bsStyle:"primary",className:"btn-margin",onClick:this.logout.bind(this)},void 0,"Log Out"))))),Se("div",{className:"container"},void 0,Se("h2",{style:{textAlign:"center"}},void 0,"Incomplete Todos"),e()&&$e),Se("div",{className:"container"},void 0,Se("h2",{style:{textAlign:"center"}},void 0,"Completed Todos"),e()&&Ce))}}])&&Oe(o.prototype,n),i&&Oe(o,i),t}()}}]);